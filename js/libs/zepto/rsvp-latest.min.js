(function(C){var g,y,A;(function(){var b={},d={};g=function(a,e,c){b[a]={deps:e,callback:c}};A=y=function(a){function e(c){if("."!==c.charAt(0))return c;c=c.split("/");for(var e=a.split("/").slice(0,-1),b=0,d=c.length;b<d;b++){var f=c[b];".."===f?e.pop():"."!==f&&e.push(f)}return e.join("/")}A._eak_seen=b;if(d[a])return d[a];d[a]={};if(!b[a])throw Error("Could not find module "+a);for(var c=b[a],h=c.deps,c=c.callback,f=[],q,s=0,v=h.length;s<v;s++)"exports"===h[s]?f.push(q={}):f.push(y(e(h[s])));h=
c.apply(this,f);return d[a]=q||h}})();g("rsvp/all",["./promise","exports"],function(b,d){var a=b["default"];d["default"]=function(e,c){return a.all(e,c)}});g("rsvp/all_settled",["./promise","./utils","exports"],function(b,d,a){var e=b["default"],c=d.isArray,h=d.isNonThenable;a["default"]=function(a,b){return new e(function(b,d){function q(c){return function(a){l(c,{state:"fulfilled",value:a})}}function n(c){return function(a){l(c,{state:"rejected",reason:a})}}function l(c,a){k[c]=a;0===--m&&b(k)}
if(!c(a))throw new TypeError("You must pass an array to allSettled.");var m=a.length,p;if(0===m)b([]);else for(var k=Array(m),g=0;g<a.length;g++)p=a[g],h(p)?l(g,{state:"fulfilled",value:p}):e.cast(p).then(q(g),n(g))},b)}});g("rsvp/asap",["exports"],function(b){function d(){return function(){process.nextTick(c)}}function a(){var a=0,e=new h(c),b=document.createTextNode("");e.observe(b,{characterData:!0});return function(){b.data=a=++a%2}}function e(){return function(){setTimeout(c,1)}}function c(){for(var c=
0;c<f.length;c++){var a=f[c];(0,a[0])(a[1])}f=[]}b["default"]=function(c,a){1===f.push([c,a])&&q()};b="undefined"!==typeof window?window:{};var h=b.MutationObserver||b.WebKitMutationObserver,f=[],q;q="undefined"!==typeof process&&"[object process]"==={}.toString.call(process)?d():h?a():e()});g("rsvp/config",["./events","exports"],function(b,d){var a={instrument:!1};b["default"].mixin(a);d.config=a;d.configure=function(e,c){if("onerror"===e)a.on("error",c);else if(2===arguments.length)a[e]=c;else return a[e]}});
g("rsvp/defer",["./promise","exports"],function(b,d){var a=b["default"];d["default"]=function(e){var c={};c.promise=new a(function(a,e){c.resolve=a;c.reject=e},e);return c}});g("rsvp/events",["exports"],function(b){var d=function(a,c){for(var b=0,d=a.length;b<d;b++)if(a[b]===c)return b;return-1},a=function(a){var c=a._promiseCallbacks;c||(c=a._promiseCallbacks={});return c};b["default"]={mixin:function(a){a.on=this.on;a.off=this.off;a.trigger=this.trigger;a._promiseCallbacks=void 0;return a},on:function(b,
c){var h=a(this),f;(f=h[b])||(f=h[b]=[]);-1===d(f,c)&&f.push(c)},off:function(b,c){var h=a(this),f;c?(h=h[b],f=d(h,c),-1!==f&&h.splice(f,1)):h[b]=[]},trigger:function(b,c){var d,f;if(d=a(this)[b])for(var q=0;q<d.length;q++)f=d[q],f(c)}}});g("rsvp/filter",["./all","./map","./utils","exports"],function(b,d,a,e){var c=b["default"],h=d["default"],f=a.isFunction,q=a.isArray;e["default"]=function(a,b,d){if(!q(a))throw new TypeError("You must pass an array to filter.");if(!f(b))throw new TypeError("You must pass a function to filter's second argument.");
return c(a,d).then(function(c){return h(a,b,d).then(function(a){var b,d=c.length,e=[];for(b=0;b<d;b++)a[b]&&e.push(c[b]);return e})})}});g("rsvp/hash",["./promise","./utils","exports"],function(b,d,a){var e=b["default"],c=d.isNonThenable,h=d.keysOf;a["default"]=function(a,b){return new e(function(b,d){function q(a){return function(c){l[a]=c;0===--p&&b(l)}}function g(a){p=0;d(a)}var l={},m=h(a),p=m.length,k,u;if(0===p)b(l);else for(var r=0;r<m.length;r++)u=m[r],k=a[u],c(k)?(l[u]=k,0===--p&&b(l)):e.cast(k).then(q(u),
g)})}});g("rsvp/instrument",["./config","./utils","exports"],function(b,d,a){var e=b.config,c=d.now;a["default"]=function(a,b,d){try{e.trigger(a,{guid:b._guidKey+b._id,eventName:a,detail:b._detail,childGuid:d&&b._guidKey+d._id,label:b._label,timeStamp:c(),stack:Error(b._label).stack})}catch(g){setTimeout(function(){throw g;},0)}}});g("rsvp/map",["./promise","./all","./utils","exports"],function(b,d,a,e){var c=d["default"],h=a.isArray,f=a.isFunction;e["default"]=function(a,b,d){if(!h(a))throw new TypeError("You must pass an array to map.");
if(!f(b))throw new TypeError("You must pass a function to map's second argument.");return c(a,d).then(function(a){var e=a.length,f=[],h;for(h=0;h<e;h++)f.push(b(a[h]));return c(f,d)})}});g("rsvp/node",["./promise","exports"],function(b,d){function a(a,b){return function(d,e){d?b(d):2<arguments.length?a(c.call(arguments,1)):a(e)}}var e=b["default"],c=Array.prototype.slice;d["default"]=function(b,d){return function(){var g=c.call(arguments),s=this||d;return new e(function(c,d){e.all(g).then(function(e){try{e.push(a(c,
d)),b.apply(s,e)}catch(f){d(f)}})})}}});g("rsvp/promise","./config ./events ./instrument ./utils ./promise/cast ./promise/all ./promise/race ./promise/resolve ./promise/reject exports".split(" "),function(b,d,a,e,c,h,f,g,s,v){function t(){}function n(a,b){if(!D(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof n))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
this._id=I++;this._label=b;this._subscribers=[];x.instrument&&E("created",this);t!==a&&l(a,this)}function l(a,b){function c(a){r(b,a)}function d(a){z(b,a)}try{a(c,d)}catch(e){d(e)}}function m(a,b,c,d){a=a._subscribers;var e=a.length;a[e]=b;a[e+B]=c;a[e+F]=d}function p(a,b){var c,d,e=a._subscribers,f=a._detail;x.instrument&&E(b===B?"fulfilled":"rejected",a);for(var h=0;h<e.length;h+=3)c=e[h],d=e[h+b],k(b,c,d,f);a._subscribers=null}function k(a,b,c,d){var e=D(c),f,h,g,k;if(e)try{f=c(d),g=!0}catch(q){k=
!0,h=q}else f=d,g=!0;u(b,f)||(e&&g?r(b,f):k?z(b,h):a===B?r(b,f):a===F&&z(b,f))}function u(a,b){var c=null,d;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(C(b)&&(c=b.then,D(c)))return c.call(b,function(c){if(d)return!0;d=!0;b!==c?r(a,c):w(a,c)},function(b){if(d)return!0;d=!0;z(a,b)},"derived from: "+(a._label||" unknown promise")),!0}catch(e){if(d)return!0;z(a,e);return!0}return!1}function r(a,b){a===b?w(a,b):u(a,b)||w(a,b)}function w(a,b){a._state===G&&
(a._state=H,a._detail=b,x.async(y,a))}function z(a,b){a._state===G&&(a._state=H,a._detail=b,x.async(A,a))}function y(a){p(a,a._state=B)}function A(a){a._onerror&&a._onerror(a._detail);p(a,a._state=F)}var x=b.config,E=a["default"],C=e.objectOrFunction,D=e.isFunction;b=e.now;c=c["default"];h=h["default"];f=f["default"];g=g["default"];s=s["default"];b="rsvp_"+b()+"-";var I=0;v["default"]=n;n.cast=c;n.all=h;n.race=f;n.resolve=g;n.reject=s;var G=void 0,H=0,B=1,F=2;n.prototype={constructor:n,_id:void 0,
_guidKey:b,_label:void 0,_state:void 0,_detail:void 0,_subscribers:void 0,_onerror:function(a){x.trigger("error",a)},then:function(a,b,c){var d=this;this._onerror=null;var e=new this.constructor(t,c);if(this._state){var f=arguments;x.async(function(){k(d._state,e,f[d._state-1],d._detail)})}else m(this,e,a,b);x.instrument&&E("chained",d,e);return e},"catch":function(a,b){return this.then(null,a,b)},"finally":function(a,b){var c=this.constructor;return this.then(function(b){return c.cast(a()).then(function(){return b})},
function(b){return c.cast(a()).then(function(){throw b;})},b)}}});g("rsvp/promise/all",["../utils","exports"],function(b,d){var a=b.isArray,e=b.isNonThenable;d["default"]=function(b,d){var f=this;return new f(function(d,h){function g(a){return function(b){l[a]=b;0===--n&&d(l)}}function t(a){n=0;h(a)}if(!a(b))throw new TypeError("You must pass an array to all.");var n=b.length,l=Array(n),m;if(0===n)d(l);else for(var p=0;p<b.length;p++)m=b[p],e(m)?(l[p]=m,0===--n&&d(l)):f.cast(m).then(g(p),t)},d)}});
g("rsvp/promise/cast",["exports"],function(b){b["default"]=function(b,a){return b&&"object"===typeof b&&b.constructor===this?b:new this(function(a){a(b)},a)}});g("rsvp/promise/race",["../utils","exports"],function(b,d){var a=b.isArray,e=b.isNonThenable;d["default"]=function(b,d){var f=this,g;return new f(function(d,h){function t(a){l&&(l=!1,d(a))}function n(a){l&&(l=!1,h(a))}if(!a(b))throw new TypeError("You must pass an array to race.");for(var l=!0,m=0;m<b.length;m++)if(g=b[m],e(g)){l=!1;d(g);break}else f.cast(g).then(t,
n)},d)}});g("rsvp/promise/reject",["exports"],function(b){b["default"]=function(b,a){return new this(function(a,c){c(b)},a)}});g("rsvp/promise/resolve",["exports"],function(b){b["default"]=function(b,a){return new this(function(a,c){a(b)},a)}});g("rsvp/race",["./promise","exports"],function(b,d){var a=b["default"];d["default"]=function(b,c){return a.race(b,c)}});g("rsvp/reject",["./promise","exports"],function(b,d){var a=b["default"];d["default"]=function(b,c){return a.reject(b,c)}});g("rsvp/resolve",
["./promise","exports"],function(b,d){var a=b["default"];d["default"]=function(b,c){return a.resolve(b,c)}});g("rsvp/rethrow",["exports"],function(b){b["default"]=function(b){setTimeout(function(){throw b;});throw b;}});g("rsvp/utils",["exports"],function(b){function d(a){return"function"===typeof a||"object"===typeof a&&null!==a}b.objectOrFunction=d;b.isFunction=function(a){return"function"===typeof a};b.isNonThenable=function(a){return!d(a)};b.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};
b.now=Date.now||function(){return(new Date).getTime()};b.keysOf=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b}});g("rsvp","./rsvp/promise ./rsvp/events ./rsvp/node ./rsvp/all ./rsvp/all_settled ./rsvp/race ./rsvp/hash ./rsvp/rethrow ./rsvp/defer ./rsvp/config ./rsvp/map ./rsvp/resolve ./rsvp/reject ./rsvp/asap ./rsvp/filter exports".split(" "),function(b,d,a,e,c,g,f,q,s,v,t,n,l,m,p,k){function u(){r.on.apply(r,arguments)}b=b["default"];d=d["default"];a=a["default"];e=e["default"];
c=c["default"];g=g["default"];f=f["default"];q=q["default"];s=s["default"];var r=v.config;v=v.configure;t=t["default"];n=n["default"];l=l["default"];p=p["default"];r.async=m["default"];if("undefined"!==typeof window&&"object"===typeof window.__PROMISE_INSTRUMENTATION__){m=window.__PROMISE_INSTRUMENTATION__;v("instrument",!0);for(var w in m)m.hasOwnProperty(w)&&u(w,m[w])}k.Promise=b;k.EventTarget=d;k.all=e;k.allSettled=c;k.race=g;k.hash=f;k.rethrow=q;k.defer=s;k.denodeify=a;k.configure=v;k.on=u;k.off=
function(){r.off.apply(r,arguments)};k.resolve=n;k.reject=l;k.async=function(a,b){r.async(a,b)};k.map=t;k.filter=p});C.RSVP=y("rsvp")})(window);
